<template>
  <div class="page" data-name="friendmap">

    <div class="page-content">
      <div id='mapfriend' style="height:100%;width:100%;"></div>
    </div>

  </div>

</template>
<script>
return {
      on: {
        pageInit: function(e, page) {
          let response = fetch(app.data.serverAddress + "/position/" + this.$route.params.idfriend)
                              .then(res => res.json())
                              .then(function(res){
                                      alert(res.latitude + ' ' + res.longitude)
                                      var map = new google.maps.Map(document.getElementById('mapfriend'), {
                                        zoom: 8,
                                        center: {lat: parseInt(res.latitude), lng: parseInt(res.longitude)}
                                      });

                                      var myLatLng = { lat: parseInt(res.latitude), lng: parseInt(res.longitude) };
                                      var marker = new google.maps.Marker(
                                          {
                                            position: myLatLng,
                                            map: map,
                                          });

                              })
          }
      }
  }
</script>
